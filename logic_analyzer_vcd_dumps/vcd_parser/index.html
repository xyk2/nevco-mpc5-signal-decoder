<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Nevco VCD Parser</title>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

		<script>
			$(document).ready(function() {
				$("#button").click(function() {
					console.log("LOL");

					inputText = $('textarea#textarea').val();
					inputText = inputText.split('0(')[1];
					inputText = inputText.split('!');

					raw_data_by_period = [];

					// Sort VCD into array of state and periods
					for(x = 0; x < inputText.length; x++) {
						inputText[x] = inputText[x].replace("#", "");
						inputText[x] = inputText[x].split("\n");
						inputText[x] = inputText[x].filter(function(e){return e}); 

						try {							
							raw_data_by_period.push([inputText[x][0] - inputText[x-1][0], inputText[x-1][1]]);
						} catch(err) {	}
					}

					packet_start = false;
					packet_data = [];
					// Remove bits before packet starts
					for(x = 0; x < raw_data_by_period.length; x++) {
						if(raw_data_by_period[x][0] < 690 && packet_start == false) {
							continue;
						} else { packet_start = true; }
						if(packet_start == true) {
							packet_data.push(raw_data_by_period[x]);
						}
					}



					console.log(raw_data_by_period);
					$("#code").html("");

					for(x = 0; x < packet_data.length; x++) {
						if(packet_data[x][0] > 110) {
							//$("#code").append("<br>");
							$("#code").append(packet_data[x][1]);
							//$("#code").append(", ");
							//$("#code").append(packet_data[x][0]);
						}
						if(packet_data[x+1][0] > 690) break;

					}
					//console.log(inputText);
				});
			});
		</script>
	</head>


	<body>
		<div style='float:left;'>
			<textarea id='textarea' rows="40" cols="30">
$comment 
  OLS Java Client
$end
$date 
  May 12, 2014 8:32:16 PM
$end
$version 
  VCD exporter v1.1
$end
$timescale 
  10 ns
$end
$scope 
  module logic
$end
$var wire 1 ! Channel-0 $end
$var wire 1 " Channel-1 $end
$var wire 1 # Channel-2 $end
$var wire 1 $ Channel-3 $end
$var wire 1 % Channel-4 $end
$var wire 1 & Channel-5 $end
$var wire 1 ' Channel-6 $end
$var wire 1 ( Channel-7 $end
$upscope $end
$enddefinitions $end
$dumpvars
x!
x"
x#
x$
x%
x&
x'
x(
$end
#0
1!
0"
0#
0$
0%
0&
0'
0(
#280
0!
#365
1!
#670
0!
#750
1!
#845
0!
#1140
1!
#1230
0!
#1525
1!
#1830
0!
#1915
1!
#2005
0!
#2300
1!
#2395
0!
#2690
1!
#2995
0!
#3075
1!
#3380
0!
#3465
1!
#3770
0!
#3850
1!
#4155
0!
#4240
1!
#4545
0!
#4625
1!
#4930
0!
#5015
1!
#5320
0!
#5400
1!
#5705
0!
#5790
1!
#6095
0!
#6175
1!
#6480
0!
#6565
1!
#6870
0!
#6950
1!
#7045
0!
#7340
1!
#7645
0!
#7725
1!
#7820
0!
#8115
1!
#8205
0!
#8500
1!
#8805
0!
#8890
1!
#9195
0!
#9275
1!
#9580
0!
#9660
1!
#9970
0!
#10050
1!
#10355
0!
#10435
1!
#10745
0!
#10825
1!
#11130
0!
#11210
1!
#11520
0!
#11600
1!
#11905
0!
#11985
1!
#12295
0!
#12375
1!
#12680
0!
#12760
1!
#13070
0!
#13150
1!
#13855
0!
#13935
1!
#14245
0!
#14325
1!
#14420
0!
#14710
1!
#14805
0!
#15100
1!
#15195
0!
#15485
1!
#15580
0!
#15875
1!
#15970
0!
#16260
1!
#16570
0!
#16650
1!
#16955
0!
#17035
1!
#17345
0!
#17425
1!
#17730
0!
#17810
1!
#18120
0!
#18200
1!
#18505
0!
#18585
1!
#18895
0!
#18975
1!
#19280
0!
#19360
1!
#19455
0!
#19750
1!
#19845
0!
#20135
1!
#20230
0!
#20525
1!
#20620
0!
#20910
1!
#21220
0!
#21300
1!
#21395
0!
#21685
1!
#21780
0!
#22075
1!
#22170
0!
#22460
1!
#22770
0!
#22850
1!
#23155
0!
#23235
1!
#23545
0!
#23625
1!
#23930
0!
#24010
1!
#24320
0!
#24400
1!
#24705
0!
#24785
1!
#25095
0!
#25175
1!
#25480
0!
#25560
1!
#25870
0!
#25950
1!
#26255
0!
#26335
1!
#26430
0!
#26725
1!
#26815
0!
#27110
1!
#27205
0!
#27500
1!
#27805
0!
#27885
1!
#27980
0!
#28275
1!
#28365
0!
#28660
1!
#28755
0!
#29050
1!
#29140
0!
#29435
1!
#29530
0!
#29825
1!
#29915
0!
#30210
1!
#30515
0!
#30600
1!
#30905
0!
#30985
1!
#31290
0!
#31375
1!
#31680
0!
#31760
1!
#32065
0!
#32150
1!
#32455
0!
#32535
1!
#32840
0!
#32925
1!
#33230
0!
#33310
1!
#33615
0!
#33700
1!
#34005
0!
#34085
1!
#34180
0!
#34475
1!
#34565
0!
#34860
1!
#34955
0!
#35250
1!
#35340
0!
#35635
1!
#35730
0!
#36025
1!
#36115
0!
#36410
1!
#36715
0!
#36800
1!
#37105
0!
#37185
1!
#37490
0!
#37575
1!
#37880
0!
#37960
1!
#38265
0!
#38350
1!
#38655
0!
#38735
1!
#39040
0!
#39125
1!
#39430
0!
#39510
1!
#39605
0!
#39900
1!
#39990
0!
#40285
1!
#40590
0!
#40675
1!
#40765
0!
#41060
1!
#41155
0!
#41450
1!
#41755
0!
#41835
1!
#41930
0!
#42225
1!
#42315
0!
#42610
1!
#42915
0!
#43000
1!
#43305
0!
#43385
1!
#43690
0!
#43775
1!
#44080
0!
#44160
1!
#44465
0!
#44550
1!
#44855
0!
#44935
1!
#45240
0!
#45325
1!
#45630
0!
#45710
1!
#46015
0!
#46100
1!
#46190
0!
#46485
1!
#46790
0!
#46875
1!
#46965
0!
#47260
1!
#47355
0!
#47650
1!
#47740
0!
#48035
1!
#48130
0!
#48425
1!
#48515
0!
#48810
1!
#49115
0!
#49200
1!
#49505
0!
#49585
1!
#49890
0!
#49975
1!
#50280
0!
#50360
1!
#50665
0!
#50750
1!
#51055
0!
#51135
1!
#51440
0!
#51525
1!
#51830
0!
#51910
1!
#52005
0!
#52300
1!
#52605
0!
#52685
1!
#52990
0!
#53075
1!
#53165
0!
#53460
1!
#53555
0!
#53850
1!
#53940
0!
#54235
1!
#54330
0!
#54625
1!
#54715
0!
#55010
1!
#55315
0!
#55395
1!
#55705
0!
#55785
1!
#56090
0!
#56170
1!
#56480
0!
#56560
1!
#56655
0!
#56945
1!
#57255
0!
#57335
1!
#57430
0!
#57720
1!
#57815
0!
#58110
1!
#58415
0!
#58495
1!
#58805
0!
#58885
1!
#59190
0!
#59270
1!
#59365
0!
#59660
1!
#59755
0!
#60045
1!
#60140
0!
#60435
1!
#60530
0!
#60820
1!
#60915
0!
#61210
1!
#61515
0!
#61595
1!
#61905
0!
#61985
1!
#62290
0!
#62370
1!
#62680
0!
#62760
1!
#63065
0!
#63145
1!
#63455
0!
#63535
1!
#63840
0!
#63920
1!
#64230
0!
#64310
1!
#64405
0!
#64695
1!
#64790
0!
#65085
1!
#65180
0!
#65470
1!
#65780
0!
#65860
1!
#65955
0!
#66245
1!
#66340
0!
#66635
1!
#66730
0!
#67020
1!
#67115
0!
#67410
1!
#67715
0!
#67795
1!
#68105
0!
#68185
1!
#68490
0!
#68570
1!
#68880
0!
#68960
1!
#69265
0!
#69345
1!
#69655
0!
#69735
1!
#70040
0!
#70120
1!
#70430
0!
#70510
1!
#70815
0!
#70895
1!
#70990
0!
#71285
1!
#71375
0!
#71670
1!
#71980
0!
#72060
1!
#72365
0!
#72445
1!
#72750
0!
#72835
1!
#73140
0!
#73220
1!
#73525
0!
#73610
1!
#73915
0!
#73995
1!
#74300
0!
#74385
1!
#74690
0!
#74770
1!
#75075
0!
#75160
1!
#75465
0!
#75545
1!
#75850
0!
#75935
1!
#76240
0!
#76320
1!
#76625
0!
#76710
1!
#76800
0!
#77095
1!
#77400
0!
#77485
1!
#77575
0!
#77870
1!
#78175
0!
#78260
1!
#78565
0!
#78645
1!
#78950
0!
#79035
1!
#79340
0!
#79420
1!
#79725
0!
#79810
1!
#80115
0!
#80195
1!
#80500
0!
#80585
1!
#80890
0!
#80970
1!
#81275
0!
#81360
1!
#81665
0!
#81745
1!
#82050
0!
#82135
1!
#82440
0!
#82520
1!
#82615
0!
#82910
1!
#83215
0!
#83295
1!
#83600
0!
#83685
1!
#83775
0!
#84070
1!
#84375
0!
#84460
1!
#84765
0!
#84845
1!
#85150
0!
#85235
1!
#85540
0!
#85620
1!
#85925
0!
#86010
1!
#86315
0!
#86395
1!
#86700
0!
#86785
1!
#87090
0!
#87170
1!
#87475
0!
#87560
1!
#87865
0!
#87945
1!
#88250
0!
#88335
1!
#88640
0!
#88720
1!
#89025
0!
#89110
1!
#89200
0!
#89495
1!
#89590
0!
#89885
1!
#90190
0!
#90270
1!
#90575
0!
#90660
1!
#90965
0!
#91045
1!
#91350
0!
#91435
1!
#91740
0!
#91820
1!
#92125
0!
#92210
1!
#92515
0!
#92595
1!
#92900
0!
#92985
1!
#93290
0!
#93370
1!
#93675
0!
#93760
1!
#94065
0!
#94145
1!
#94450
0!
#94535
1!
#94840
0!
#94920
1!
#95225
0!
#95310
1!
#95615
0!
#95695
1!
#95790
0!
#96085
1!
#96390
0!
#96470
1!
#96775
0!
#96860
1!
#97165
0!
#97245
1!
#97550
0!
#97635
1!
#97940
0!
#98020
1!
#98325
0!
#98410
1!
#98715
0!
#98795
1!
#99100
0!
#99185
1!
#99490
0!
#99570
1!
#99875
0!
#99960
1!
#100050
0!
#100345
1!
#100440
0!
#100730
1!
#101040
0!
#101120
1!
#101215
0!
#101505
1!
#101600
0!
#101895
1!
#102200
0!
#102280
1!
#102590
0!
#102670
1!
#102975
0!
#103055
1!
#103365
0!
#103445
1!
#103750
0!
#103830
1!
#104140
0!
#104220
1!
#104525
0!
#104605
1!
#104915
0!
#104995
1!
#105300
0!
#105380
1!
#105690
0!
#105770
1!
#106075
0!
#106155
1!
#106250
0!
#106545
1!
#106850
0!
#106930
1!
#107025
0!
#107320
1!
#107415
0!
#107705
1!
#108015
0!
#108095
1!
#108400
0!
#108480
1!
#108790
0!
#108870
1!
#109175
0!
#109255
1!
#109565
0!
#109645
1!
#109950
0!
#110030
1!
#110340
0!
#110420
1!
#110725
0!
#110805
1!
#111115
0!
#111195
1!
#111500
0!
#111580
1!
#111890
0!
#111970
1!
#112275
0!
#112355
1!
#113065
0!
#113145
1!
#113450
0!
#113530
1!
#113625
0!
#113920
1!
#114015
0!
#114305
1!
#114400
0!
#114695
1!
#114790
0!
#115080
1!
#115175
0!
#115470
1!
#115775
0!
#115855
1!
#116165
0!
#116245
1!
#116550
0!
#116630
1!
#116940
0!
#117020
1!
#117325
0!
#117405
1!
#117710
0!
#117795
1!
#118100
0!
#118180
1!
#118485
0!
#118570
1!
#118660
0!
#118955
1!
#119050
0!
#119345
1!
#119435
0!
#119730
1!
#119825
0!
#120120
1!
#120425
0!
#120505
1!
#120600
0!
#120895
1!
#120985
0!
#121280
1!
#121375
0!
#121670
1!
#121975
0!
#122055
1!
#122360
0!
#122445
1!
#122750
0!
#122830
1!
#122880
			</textarea>		
		</div>

		<div style='float:left;width: 800px;'>
			<button id='button' type="button">Parse</button>
			<div><code id='code'></code></div>
		</div>
	</body>

</html>